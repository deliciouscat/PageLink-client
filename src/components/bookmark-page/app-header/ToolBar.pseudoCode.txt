# ToolBar Animation Pseudo Code

appHeaderArea = // 앱 헤더 영역

placement = [Blank(), Icon("material-symbols: search icon"), Icon("material-symbols: plus icon")]    // default
toolbar = dynamic HorizonalGrid(placement)

if last_click = "search icon" :
    placement = [Icon("material-symbols: search icon"), Blank(), Icon("material-symbols: plus icon")]
    sleep(0.2 seconds)
    placement.swap_blank_to(TextInputBox())

if last_click = "plus icon" :
    placement = [Icon("material-symbols: search icon"), Icon("material-symbols: plus icon"), Blank()]
    sleep(0.2 seconds)
    placement.swap_blank_to(TextInputBox())

if last_click not in ["search icon", "plus icon"] and last_click in appHeaderArea :
    placement = [Blank(), Icon("material-symbols: search icon"), Icon("material-symbols: plus icon")]    // back to default

# Animation Details

## Grid Layout Configuration
toolbar.grid_template_columns = "1fr auto auto"
toolbar.gap = 16px
toolbar.max_width = 400px

## Element Sizing Rules
Blank().flex_grow = 1
Blank().flex_shrink = 1
Blank().flex_basis = 0
Blank().background_color = red  // for debugging

TextInputBox().flex_grow = 1
TextInputBox().flex_shrink = 1
TextInputBox().flex_basis = 0

Icon().flex_grow = 0
Icon().flex_shrink = 0
Icon().flex_basis = auto
Icon().width = 24px
Icon().height = 24px

## Animation Sequence
when placement changes:
    1. update placement array
    2. animate non-blank items with:
        - y: 10px -> 0px
        - opacity: 0.7 -> 1
        - duration: 0.3s
        - stagger: 0.05s
    3. wait 0.2 seconds
    4. swap Blank() to TextInputBox()
    5. animate TextInputBox() appearance:
        - scale: 0.8 -> 1
        - opacity: 0 -> 1
        - duration: 0.3s
        - ease: back.out(1.7)
        - onComplete: focus input

when reset to default:
    1. animate all items out:
        - scale: 1 -> 0.8
        - opacity: 1 -> 0.5
        - duration: 0.2s
        - stagger: 0.03s
    2. reset placement to default
    3. clear input value
    4. animate items in:
        - scale: 0.8 -> 1
        - opacity: 0.5 -> 1
        - duration: 0.3s
        - stagger: 0.05s
        - ease: back.out(1.7)